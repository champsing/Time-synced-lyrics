# æ™‚é–“åŒæ­¥æ­Œè© ğŸµ

[ è‡ªå‹•åŒæ­¥æ’­æ”¾æ™‚é–“æ»¾å‹•æ­Œè©çš„ç¶²é å·¥å…· ]

> [!NOTE]
> åœ¨ä»¥ä¸‹çš„èªªæ˜ä¸­ï¼Œå­ç¯€é»å¦‚ç‚ºå¿…å¡«è€Œæ¯ç¯€é»ç‚ºé¸å¡«ï¼ŒæŒ‡ã€Œç•¶æ¯ç¯€é»å­˜åœ¨æ™‚ï¼Œè©²å­ç¯€é»å¿…å¡«ã€ã€‚

## æ­Œæ›²æ¸…å–®æ ¼å¼

æ­Œæ›²æ¸…å–®åœ¨ `/public/song_list.json` ä¸­ä»¥ JSON æ ¼å¼å®šç¾©ï¼Œé™£åˆ—ä¸­çš„æ¯å€‹ç‰©ä»¶ä»£è¡¨ä¸€é¦–æ­Œã€‚

### åŸºæœ¬çµæ§‹

ä»¥ä¸‹ç¯„ä¾‹æ˜¯æ¨™æº–çš„ä¸€é¦–æ­Œï¼š

```json
[
...
    {
        "available": true,
        "name": "HOYO-MiX, Vision Wei, Nea - On the Journey",
        "artist": "HOYO-MiX, é­æ™¨, Nea",
        "lyricist": "Ruby Quã€ç‹å¯é‘«",
        "title": "ä¸è™›æ­¤è¡Œ",
        "subtitle": "ã€Šå´©å£:æ˜Ÿç©¹éµé“ã€‹å…©é€±å¹´ç´€å¿µæ›²",
        "is_duet": true,
        "versions": [
            {
                "version": "original",
                "id": "0WyDtxRZ938",
                "default": true
            }
        ],
        "translation": {
            "available": true,
            "author": "YouTube å½±ç‰‡å…§ç¿»è­¯"
        },
        "credits": {
            "performance": [
                {
                    "name": "HOYO-MiX",
                    "contribution": ["æ¼”å‡ºè€…"]
                },
                {
                    "name": "é­æ™¨",
                    "contribution": ["ä¸»å”±"]
                },
                {
                    "name": "NEA",
                    "contribution": ["ä¸»å”±"]
                }
            ],
            "song_writing": [
                {
                    "name": "ç‹å¯é‘«",
                    "contribution": ["è©æ›²å‰µä½œ", "ç·¨æ›²"]
                },
                {
                    "name": "Ruby Qu",
                    "contribution": ["ä½œè©"]
                }
            ],
            "engineering": [
                {
                    "name": "å´”ç€šæ™®",
                    "contribution": ["è£½ä½œäºº"]
                },
                {
                    "name": "å¼ è¿¦å—",
                    "contribution": ["æ¯å¸¶å·¥ç¨‹å¸«"]
                },
                {
                    "name": "ç‹å¯é‘«",
                    "contribution": ["è£½ä½œäºº", "æ¯å¸¶å·¥ç¨‹å¸«"]
                },
                {
                    "name": "é˜¿çƒˆ",
                    "contribution": ["æ··éŸ³å¸«"]
                }
            ]
        }
    },
...
]
```

### æ­Œæ›²å±¬æ€§èªªæ˜

| å±¬æ€§              | é¡å‹         | å¿…å¡« | èªªæ˜                                   |
| ----------------- | ------------ | ---- | -------------------------------------- |
| `available`       | boolean      | âœ“    | æ˜¯å¦å•Ÿç”¨è©²æ­Œæ›²                         |
| `name`            | string       | âœ“    | æ™‚é–“è­œæª”æ¡ˆåç¨± (e.g. "artist - title") |
| `artist`          | string       | âœ“    | æ­Œæ‰‹/åœ˜é«”åç¨±                          |
| `title`           | string       | âœ“    | æ­Œæ›²æ¨™é¡Œï¼ˆä¸å«æ­Œæ‰‹åï¼‰                 |
| `subtitle`        | string       |      | æ­Œæ›²å‰¯æ¨™é¡Œï¼ˆä¸å«æ­Œåï¼Œå¯ä½¿ç”¨`\n`æ›è¡Œï¼‰ |
| `lyricist`        | string       |      | ä½œè©è€…                                 |
| `is_duet`         | boolean      |      | æ˜¯å¦ç‚ºå°å”±æ­Œæ›²                         |
| `versions`        | array        | âœ“    | æ›¿ä»£ç‰ˆæœ¬åˆ—è¡¨                           |
| â†³ `version`       | string       | âœ“    | ç‰ˆæœ¬é¡å‹ (e.g. "instrumental")ã€‚       |
| â†³ `id`            | string       | âœ“    | YouTube å½±ç‰‡ ID                        |
| â†³ `default`       | boolean      |      | æ˜¯å¦ç‚ºé è¨­ç‰ˆæœ¬                         |
| `album`           | object       |      | å°ˆè¼¯è³‡è¨Š                               |
| â†³ `name`          | string       | âœ“    | å°ˆè¼¯åç¨±                               |
| â†³ `link`          | string       |      | å°ˆè¼¯é€£çµä»£ç¢¼                           |
| `translation`     | object       |      | ç¿»è­¯è³‡è¨Š                               |
| â†³ `available`     | boolean      | âœ“    | æ˜¯å¦æœ‰ç¿»è­¯                             |
| â†³ `author`        | string       | âœ“    | ç¿»è­¯ä½œè€…                               |
| â†³ `cite`          | string       |      | ç¿»è­¯å‡ºè™•é€£çµ                           |
| `credits`         | object       |      | æ­Œæ›²çš„è£½ä½œåå–®                         |
| â†³ `performance`   | array        |      | è¡¨æ¼”è²¢ç»è€…                             |
| â†³ `song_writing`  | array        |      | è©æ›²å‰µä½œè²¢ç»è€…                         |
| â†³ `engineering`   | array        |      | å¾Œè£½èˆ‡å·¥ç¨‹é¡è²¢ç»è€…                     |
| â†³â†³ `name`         | string       | âœ“    | è²¢ç»è€…å§“å                             |
| â†³â†³ `contribution` | string array | âœ“    | è²¢ç»å…§å®¹                               |
| `lang`            | string       | âœ“    | æ­Œæ›²èªè¨€                               |
| `updated_at`      | date string  | âœ“    | æ­Œè©æœ€å¾Œæ›´æ–°æ—¥æœŸ                       |
| `furigana`        | boolean      |      | æ˜¯å¦æä¾›æª¢è¦–å‡åè®€éŸ³                   |

WIP

# æ­Œè©æ™‚é–“è­œæ ¼å¼

æ­Œè©çš„ JSON æ™‚é–“è­œæª”æ¡ˆçµ±ä¸€æ”¾åœ¨ `/public/mappings/(æ­Œå)/` è£¡ï¼Œä»¥æ­Œæ›²ç‰ˆæœ¬ (i.e. `original`, `the_first_take`, `instrumental`, ...)å‘½åã€‚JSON æª”æ¡ˆä¸­çš„æ¯å€‹ç‰©ä»¶éƒ½æ˜¯ä¸€è¡Œæ­Œè©ã€‚

ä»¥ä¸‹ç¯„ä¾‹æ˜¯æ¨™æº–çš„ä¸€è¡Œæ­Œè©ï¼š

```json
[
...
    {
        "time": "01:56.57",
        "text": [
            { "phrase": "Life ", "duration": 47 },
            { "phrase": "goes ", "duration": 23 },
            { "phrase": "on,", "duration": 31 },
            { "phrase": " ", "duration": 156 },
            { "phrase": "through ", "duration": 23 },
            { "phrase": "tides ", "duration": 28 },
            { "phrase": "of ", "duration": 27 },
            { "phrase": "time", "duration": 87 }
        ],
        "translation": "ç”Ÿå‘½ä¸æ¯ï¼Œæ­²æœˆä¸æ­¢",
        "is_together": true,
        "background_voice": {
            "time": "01:58.06",
            "text": [
                { "phrase": "Goes ", "duration": 40 },
                { "phrase": "on,", "duration": 31 },
                { "phrase": " ", "duration": 100 },
                { "phrase": "time", "duration": 100, "kiai": true }
            ],
            "translation":"ä¸æ¯ï¼Œæ­²æœˆ"
        }
    },
...
]
```

### æ­Œè©è¡Œå±¬æ€§èªªæ˜

| å±¬æ€§               | é¡å‹    | å¿…å¡« | èªªæ˜                                                          |
| ------------------ | ------- | ---- | ------------------------------------------------------------- |
| `time`             | string  | âœ“    | é–‹å§‹æ™‚é–“ (æ ¼å¼ "mm:ss.SS")                                    |
| `type`             | string  |      | è©²è¡Œçš„é¡å‹ï¼Œåƒ…åœ¨å€¼ç‚º `prelude`, `interlude` å’Œ `end` æ™‚æœ‰ä½œç”¨ |
| `text`             | array   |      | ä¸»æ­Œè©ç‰‡èªé™£åˆ—                                                |
| â†³ `phrase`         | string  | âœ“    | æ–‡å­—ç‰‡æ®µ                                                      |
| â†³ `duration`       | number  | âœ“    | æŒçºŒæ™‚é–“(ms)ï¼Œ0=ä½¿ç”¨é è¨­å€¼                                    |
| â†³ `kiai`           | boolean |      | æ˜¯å¦å¼·èª¿é¡¯ç¤º                                                  |
| â†³ `pronounciation` | string  |      | è©²ç‰‡èªçš„ç™¼éŸ³ï¼ˆç‚ºæ—¥æ–‡å‡åè®€éŸ³è¨­è¨ˆï¼‰                            |
| `translation`      | string  |      | è©²è¡Œç¿»è­¯                                                      |
| `background_voice` | object  |      | èƒŒæ™¯å’Œè²                                                      |
| â†³ `time`           | string  | âœ“    | é–‹å§‹æ™‚é–“                                                      |
| â†³ `text`           | array   | âœ“    | åŒä¸»æ­Œè©`text`æ ¼å¼                                            |
| â†³ `translation`    | string  |      | å’Œè²ç¿»è­¯                                                      |
| `is_secondary`     | boolean |      | æ˜¯å¦ç‚ºç¬¬äºŒæ­Œæ‰‹                                                |
| `is_together`      | boolean |      | æ˜¯å¦ç‚ºåˆå”±                                                    |
| `concurrent_lines` | array   |      | ä¸€èµ·å•Ÿç”¨çš„è¡Œ                                                  |

## æ ¹å…ƒç´ 

**å¿…å¡«**ï¼›Array

åŒ…å«è©²é¦–æ­Œæ›²æ‰€æœ‰æ­Œè©ç‰©ä»¶çš„é™£åˆ—

## time

è©²è¡Œé–‹å§‹çš„æ™‚é–“ã€‚

åœ¨ YouTube æ’­æ”¾å™¨çš„ç•¶å‰æ™‚åˆ»åˆ°é”é€™å€‹ä½ç½®æ™‚ï¼Œæœƒåˆ‡æ›è‡³è©²è¡Œæ­Œè©ã€‚

## type

è©²è¡Œçš„é¡å‹ã€‚

- è‹¥è¨­ç‚º `prelude`ï¼Œå‰‡è©²è¡Œç‚ºå‰å¥ã€‚

- è‹¥è¨­ç‚º `interlude`ï¼Œå‰‡è©²è¡Œç‚ºé–“å¥ã€‚

- è‹¥è¨­ç‚º `end`ï¼Œå‰‡è©²è¡Œç‚ºæ­Œæ›²çµæŸæ™‚é–“ã€‚

## text

è©²è¡Œçš„æ–‡å­—ã€‚ç”±å¤šå€‹ `{"phrase": string, "duration": number}` ç‰©ä»¶çµ„æˆã€‚

### phrase

ä¸€æ®µç‰‡èªã€‚

- è‹¥è¨­å®šç‚ºç©ºå­—ä¸²ï¼Œå‰‡æ­Œè©ä¸­ä¸æœƒé¡¯ç¤ºï¼Œå¯ä½œç‚ºåœé “ä¹‹ç”¨ã€‚

ç¯„ä¾‹ï¼š

```json
{ "phrase": "", "duration": 40 } // ä½œç‚ºåœé “ä½¿ç”¨
```

### duration

è©²ç‰‡èªçš„æŒçºŒæ™‚é–“ã€‚å–®ä½ç‚ºå˜ç§’ï¼ˆå³ 1/100 ç§’ï¼‰ã€‚

- è‹¥å¡«å¯« `0`ï¼Œå°‡æœƒå°‡è©²å€¼å–ä»£ç‚ºç³»çµ±é è¨­å€¼å¸¸æ•¸ `100`ã€‚

- è©²å€¼å°‡é…åˆ YouTube æ’­æ”¾å™¨çš„ç•¶å‰æ™‚åˆ»æ±ºå®šè©²ç‰‡èªç”±å·¦å‘å³æ¼¸å±¤è‘—è‰²çš„å¿«æ…¢ã€‚

### é–“å¥èˆ‡æ­Œæ›²çµæŸ

- è‹¥è©²è¡Œçš„ `type` å€¼ç‚º `prelude` æˆ– `interlude`ï¼ˆå³è©²è¡Œç‚ºå‰å¥æˆ–é–“å¥ï¼‰ï¼Œ

    `text` å°‡è‡ªå‹•è¢«è¨­å®šç‚ºï¼š

    ```json
    [
        {
            "phrase": "ï¼ ï¼ ï¼",
            "duration": "(ä¸‹ä¸€è¡Œçš„ time - è©²è¡Œçš„ timeï¼Œå–®ä½ç‚ºç§’)"
        }
    ]
    ```

- è‹¥è©²è¡Œçš„ `type` å€¼ç‚º `end`ï¼ˆå³è©²è¡Œç‚ºæ­Œæ›²çµæŸï¼‰ï¼Œ

    `text` å°‡è‡ªå‹•è¢«è¨­å®šç‚ºï¼š

    ```json
    [
        {
            "phrase": "å‰µä½œè€…ï¼šï¼ˆä½œè©è€…åç¨±ï¼Œè‹¥ç„¡å‰‡ä½¿ç”¨è—äººåç¨±ï¼‰",
            "duration": "(è©²æ­Œæ›²ç¸½é•·åº¦ - è©²è¡Œçš„ timeï¼Œå–®ä½ç‚ºç§’)"
        }
    ]
    ```

### kiai

ç‚ºè©²ç‰‡èªåŠ ä¸Šå¼·èª¿æ¨£å¼ã€‚

- è‹¥ç‚º `true`ï¼Œè©²ç‰‡èªåœ¨è‘—è‰²æ™‚æœƒå¸¶æœ‰ç™½è‰²å…‰æšˆæ•ˆæœï¼Œä½œç‚ºå¼·èª¿ç”¨é€”ã€‚

### pronounciation

è©²ç‰‡èªçš„è®€éŸ³ï¼Œä¸»è¦ç‚ºæ—¥èªå‡åè®€éŸ³è¨­è¨ˆï¼›ä¹Ÿå¯ç”¨åœ¨åˆ¥ç¨®ç”¨é€”ï¼Œä½†**å°šä¸æ¨è–¦**ã€‚

ç¯„ä¾‹ï¼š

```json
{ "phrase": "å¤œç©º", "duration": 40, "pronounciation": "ã‚ˆãã‚‰" }
```

è¼¸å‡ºçµæœï¼š

<ruby>
    å¤œç©º <rp>(</rp> <rt>ã‚ˆãã‚‰</rt> <rp>)</rp>
</ruby>

## translation

è©²è¡Œæ­Œè©çš„ç¿»è­¯ã€‚

## background_voice

è©²è¡Œçš„èƒŒæ™¯å’Œè²ã€‚

é™£åˆ—ä¸­çš„æ¯é …ç‰©ä»¶çš†æ˜¯ä¸€è¡ŒèƒŒæ™¯å’Œè²ï¼Œæ ¼å¼æ¯”ç…§ä¸»æ—‹å¾‹ã€‚

## is_secondary

è¡¨ç¤ºè©²è¡Œç‚ºç¬¬äºŒæ­Œæ‰‹çš„æ­Œè©ã€‚

- éœ€è¦åœ¨ `/public/song_list.json` ä¸­å°‡è©²æ­Œæ›²çš„ `is_duet` è¨­ç½®ç‚º `true` æ–¹å¯æ­£å¸¸ä½¿ç”¨ã€‚

- è‹¥ç‚º `true`ï¼Œè©²è¡Œæ–‡å­—å°‡æœƒé å³é¡¯ç¤ºã€‚

- èƒŒæ™¯å’Œè²å°‡è·Ÿéš¨ä¸»æ—‹å¾‹é å³ã€‚

- <font color=red>ä¸å¯èˆ‡`is_together`ä¸¦ç”¨ï¼Œå¦å‰‡æ²’æœ‰æ•ˆæœã€‚</font>

## is_together

è¡¨ç¤ºè©²è¡Œç‚ºæ­Œæ‰‹åˆå”±çš„æ­Œè©ã€‚

- éœ€è¦åœ¨ `/public/song_list.json` ä¸­å°‡è©²æ­Œæ›²çš„ `is_duet` è¨­ç½®ç‚º `true` æ–¹å¯æ­£å¸¸ä½¿ç”¨ã€‚

- è‹¥ç‚º `true`ï¼Œè©²è¡Œæ–‡å­—å°‡æœƒæ­£å¸¸å±…ä¸­é¡¯ç¤ºã€‚

- èƒŒæ™¯å’Œè²å°‡è·Ÿéš¨ä¸»æ—‹å¾‹ç½®ä¸­ã€‚

- <font color=red>ä¸å¯èˆ‡`is_secondary`ä¸¦ç”¨ï¼Œå¦å‰‡æ²’æœ‰æ•ˆæœã€‚</font>

## concurrent_lines

è¡¨ç¤ºè©²è¡Œèˆ‡ä¸‹åˆ—è¡Œç‚ºåŒæ™‚å•Ÿç”¨ã€‚

- åªèƒ½å•Ÿç”¨ `time` åœ¨è©²è¡Œä¹‹å‰çš„è¡Œï¼Œå¡«å…¥è©²è¡Œä¹‹å¾Œçš„è¡Œæ•¸ä¸æœƒæœ‰ä»»ä½•æ•ˆæœã€‚
