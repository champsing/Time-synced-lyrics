# æ™‚é–“åŒæ­¥æ­Œè© ğŸµ

[ è‡ªå‹•åŒæ­¥æ’­æ”¾æ™‚é–“æ»¾å‹•æ­Œè©çš„ç¶²é å·¥å…· ]

## æ­Œæ›²æ¸…å–®æ ¼å¼

æ­Œæ›²æ¸…å–®åœ¨ `/public/song_list.json` ä¸­ä»¥ JSON æ ¼å¼å®šç¾©ï¼Œé™£åˆ—ä¸­çš„æ¯å€‹ç‰©ä»¶ä»£è¡¨ä¸€é¦–æ­Œã€‚

### åŸºæœ¬çµæ§‹

ä»¥ä¸‹ç¯„ä¾‹æ˜¯æ¨™æº–çš„ä¸€é¦–æ­Œï¼š

```json
[
...
    {
        "available": true,
        "name": "amazarashi - Cassiopeia Keiryuujo",
        "id": "pTwSEgflLq0",
        "artist": "amazarashi",
        "title": "ã‚«ã‚·ã‚ªãƒ”ã‚¢ä¿‚ç•™æ‰€",
        "lyricist": "ç§‹ç”°ã²ã‚ã‚€",
        "album": {
            "name": "æ°¸é å¸‚",
            "link": "cCJ7CCq"
        },
        "translation": {
            "available": true,
            "author": "Aliceï¼ç®±åº­åšç‰©é¤¨",
            "cite": "http://alicepika.blog.fc2.com/blog-entry-737.html"
        },
        "default_phrase_duration": 100,
        "is_duet": false,
        "alternative_versions": [
            {"type": "the_first_take", "id": "XXXX"}, // optional
            {"type": "instrumental", "id": "XXXX"} // optional
        ],
        "credits": {
            "vocalist": "ç§‹ç”°ã²ã‚ã‚€",
            "lyricist": "XXXXXX", // optional
            "song_writing": "XXXXXX", // optional
            "lyricist_and_songwriting": "ç§‹ç”°ã²ã‚ã‚€",
            "arrangement": "å‡ºç¾½è‰¯å½°"
        }
    },
...
]
```

### æ­Œæ›²å±¬æ€§èªªæ˜

| å±¬æ€§                         | é¡å‹    | å¿…å¡« | èªªæ˜                                   |
| ---------------------------- | ------- | ---- | -------------------------------------- |
| `available`                  | boolean | âœ“    | æ˜¯å¦å•Ÿç”¨è©²æ­Œæ›²                         |
| `name`                       | string  | âœ“    | æ™‚é–“è­œæª”æ¡ˆåç¨± (e.g. "artist - title") |
| `id`                         | string  | âœ“    | YouTube å½±ç‰‡ ID                        |
| `artist`                     | string  | âœ“    | æ­Œæ‰‹/åœ˜é«”åç¨±                          |
| `title`                      | string  | âœ“    | æ­Œæ›²æ¨™é¡Œï¼ˆä¸å«æ­Œæ‰‹åï¼‰                 |
| `lyricist`                   | string  |      | ä½œè©è€…                                 |
| `album`                      | object  |      | å°ˆè¼¯è³‡è¨Š                               |
| â†³ `name`                     | string  | âœ“    | å°ˆè¼¯åç¨±                               |
| â†³ `link`                     | string  |      | å°ˆè¼¯é€£çµä»£ç¢¼                           |
| `translation`                | object  |      | ç¿»è­¯è³‡è¨Š                               |
| â†³ `available`                | boolean | âœ“    | æ˜¯å¦æœ‰ç¿»è­¯                             |
| â†³ `author`                   | string  |      | ç¿»è­¯ä½œè€…                               |
| â†³ `cite`                     | string  |      | ç¿»è­¯å‡ºè™•é€£çµ                           |
| `default_phrase_duration`    | number  |      | é è¨­ç‰‡èªæŒçºŒæ™‚é–“(ms)                   |
| `is_duet`                    | boolean |      | æ˜¯å¦ç‚ºå°å”±æ­Œæ›²                         |
| `alternative_versions`       | array   |      | æ›¿ä»£ç‰ˆæœ¬åˆ—è¡¨                           |
| â†³ `type`                     | string  | âœ“    | ç‰ˆæœ¬é¡å‹ (e.g. "instrumental")         |
| â†³ `id`                       | string  | âœ“    | YouTube å½±ç‰‡ ID                        |
| `credits`                    | object  |      | æ­Œæ›²çš„è£½ä½œåå–®                         |
| â†³ `vocalist`                 | string  |      | ä¸»å”±å§“å                               |
| â†³ `lyricist`                 | string  |      | ä½œè©å§“å                               |
| â†³ `songwriting`              | string  |      | ä½œæ›²å§“å                               |
| â†³ `lyricist_and_songwriting` | string  |      | è©æ›²å‰µä½œå§“å                           |
| â†³ `arrangement`              | string  |      | ç·¨æ›²å§“å                               |

WIP

# æ­Œè©æ™‚é–“è­œæ ¼å¼

æ­Œè©çš„ JSON æ™‚é–“è­œæª”æ¡ˆçµ±ä¸€æ”¾åœ¨ `/public/mappings/` è£¡ã€‚
JSON æª”æ¡ˆä¸­çš„æ¯å€‹ç‰©ä»¶éƒ½æ˜¯ä¸€è¡Œæ­Œè©ã€‚

ä»¥ä¸‹ç¯„ä¾‹æ˜¯æ¨™æº–çš„ä¸€è¡Œæ­Œè©ï¼š

```json
[
...
    {
        "time": "03:55.98",
        "text": [
            { "phrase": "ã¾ãŸ", "duration": 0 },
            { "phrase": "ã—ã‚ã‚’", "duration": 0 },
            { "phrase": "ã‚ã‚ã›ã¦", "duration": 0, "kiai": true }
        ],
        "translation": "å†ä¸€æ¬¡ å°‡æˆ‘å€‘çš„çšºç´‹çµåˆèµ·ä¾†",
        "background_voice": {
            "time": "03:54.70",
            "text": [
                { "phrase": "æ€ã„å‡ºã™", "duration": 80 },
                { "phrase": "ã“ã¨ã‚‚", "duration": 80 },
                { "phrase": "ãªããªã£ã¦", "duration": 100 },
                { "phrase": "ã€€", "duration": 10 },
                { "phrase": "ã—ã¾ã†ã‚“ã ã‚ã†", "duration": 120 },
                { "phrase": "ã€€", "duration": 10 },
                { "phrase": "ã—ã¾ã†ã‚“ã ã‚ã†", "duration": 120, "kiai": true },
                { "phrase": "", "duration": 40 },
                { "phrase": "ã£ã¦", "duration": 20 }
            ],
            "translation": "æœƒè®Šå¾—ä»€éº¼éƒ½ç„¡æ³•å›æƒ³èµ·ä¾† æœƒè®Šæˆé€™æ¨£å§ æœƒè®Šæˆé€™æ¨£å§.....æˆ‘æƒ³"
        },
        "is_secondary": true
    },
...
]
```

### æ­Œè©è¡Œå±¬æ€§èªªæ˜

| å±¬æ€§               | é¡å‹    | å¿…å¡« | èªªæ˜                                               |
| ------------------ | ------- | ---- | -------------------------------------------------- |
| `time`             | string  | âœ“    | é–‹å§‹æ™‚é–“ (æ ¼å¼ "mm:ss.SS")                         |
| `type`             | string  |      | è©²è¡Œçš„é¡å‹ï¼Œåƒ…åœ¨å€¼ç‚º `interlude` å’Œ `end` æ™‚æœ‰ä½œç”¨ |
| `text`             | array   |      | ä¸»æ­Œè©ç‰‡èªé™£åˆ—                                     |
| â†³ `phrase`         | string  | âœ“    | æ–‡å­—ç‰‡æ®µ                                           |
| â†³ `duration`       | number  | âœ“    | æŒçºŒæ™‚é–“(ms)ï¼Œ0=ä½¿ç”¨é è¨­å€¼                         |
| â†³ `kiai`           | boolean |      | æ˜¯å¦å¼·èª¿é¡¯ç¤º                                       |
| `translation`      | string  |      | è©²è¡Œç¿»è­¯                                           |
| `background_voice` | object  |      | èƒŒæ™¯å’Œè²                                           |
| â†³ `time`           | string  | âœ“    | é–‹å§‹æ™‚é–“                                           |
| â†³ `text`           | array   | âœ“    | åŒä¸»æ­Œè©æ ¼å¼                                       |
| â†³ `translation`    | string  |      | å’Œè²ç¿»è­¯                                           |
| `is_secondary`     | boolean |      | æ˜¯å¦ç‚ºç¬¬äºŒæ­Œæ‰‹                                     |

## æ ¹å…ƒç´ 

**å¿…å¡«**ï¼›Array

åŒ…å«è©²é¦–æ­Œæ›²æ‰€æœ‰æ­Œè©ç‰©ä»¶çš„é™£åˆ—

## time

è©²è¡Œé–‹å§‹çš„æ™‚é–“ã€‚

åœ¨ YouTube æ’­æ”¾å™¨çš„ç•¶å‰æ™‚åˆ»åˆ°é”é€™å€‹ä½ç½®æ™‚ï¼Œæœƒåˆ‡æ›è‡³è©²è¡Œæ­Œè©ã€‚

## type

è©²è¡Œçš„é¡å‹ã€‚

-   è‹¥è¨­ç‚º `interlude`ï¼Œå‰‡è©²è¡Œç‚ºé–“å¥ã€‚

-   è‹¥è¨­ç‚º `end`ï¼Œå‰‡è©²è¡Œç‚ºæ­Œæ›²çµæŸæ™‚é–“ã€‚

## text

è©²è¡Œçš„æ–‡å­—ã€‚ç”±å¤šå€‹ `{"phrase": string, "duration": number}` ç‰©ä»¶çµ„æˆã€‚

### phrase

ä¸€æ®µç‰‡èªã€‚

-   è‹¥è¨­å®šç‚ºç©ºå­—ä¸²ï¼Œå‰‡æ­Œè©ä¸­ä¸æœƒé¡¯ç¤ºï¼Œå¯ä½œç‚ºåœé “ä¹‹ç”¨ã€‚

-   ç¯„ä¾‹ï¼š
    ```json
    { "phrase": "", "duration": 40 } // ä½œç‚ºåœé “ä½¿ç”¨
    ```

### duration

è©²ç‰‡èªçš„æŒçºŒæ™‚é–“ã€‚å–®ä½ç‚ºå˜ç§’ï¼ˆå³ 1/100 ç§’ï¼‰ã€‚

-   è‹¥å¡«å¯« `0`ï¼Œå°‡æœƒå°‡è©²å€¼å–ä»£ç‚º `/public/song_list.json` ä¸­å®šç¾©çš„è©²æ­Œæ›²çš„ `default_phrase_duration` æ•¸å€¼ã€‚

-   è‹¥è©²å€¼ä¹Ÿä¸å­˜åœ¨ï¼Œå°‡ä½¿ç”¨ç³»çµ±é è¨­å€¼å¸¸æ•¸ `100`ã€‚

-   è©²å€¼å°‡é…åˆ YouTube æ’­æ”¾å™¨çš„ç•¶å‰æ™‚åˆ»æ±ºå®šè©²ç‰‡èªç”±å·¦å‘å³æ¼¸å±¤è‘—è‰²çš„å¿«æ…¢ã€‚

### é–“å¥èˆ‡æ­Œæ›²çµæŸ

-   è‹¥è©²è¡Œçš„ `type` å€¼ç‚º `interlude`ï¼ˆå³è©²è¡Œç‚ºé–“å¥ï¼‰ï¼Œ

    `text` å°‡è‡ªå‹•è¢«è¨­å®šç‚ºï¼š

    ```json
    [
        {
            "phrase": "ï¼ ï¼ ï¼",
            "duration": "(ä¸‹ä¸€è¡Œçš„ time - è©²è¡Œçš„ timeï¼Œå–®ä½ç‚ºç§’)"
        }
    ]
    ```

-   è‹¥è©²è¡Œçš„ `type` å€¼ç‚º `end`ï¼ˆå³è©²è¡Œç‚ºæ­Œæ›²çµæŸï¼‰ï¼Œ

    `text` å°‡è‡ªå‹•è¢«è¨­å®šç‚ºï¼š

    ```json
    [
        {
            "phrase": "å‰µä½œè€…ï¼šï¼ˆä½œè©è€…åç¨±ï¼Œè‹¥ç„¡å‰‡ä½¿ç”¨è—äººåç¨±ï¼‰",
            "duration": "(è©²æ­Œæ›²ç¸½é•·åº¦ - è©²è¡Œçš„ timeï¼Œå–®ä½ç‚ºç§’)"
        }
    ]
    ```

### kiai

ç‚ºè©²ç‰‡èªåŠ ä¸Šå¼·èª¿æ¨£å¼ã€‚

-   è‹¥ç‚º `true`ï¼Œè©²ç‰‡èªåœ¨è‘—è‰²æ™‚æœƒå¸¶æœ‰ç™½è‰²å…‰æšˆæ•ˆæœï¼Œä½œç‚ºå¼·èª¿ç”¨é€”ã€‚

## translation

è©²è¡Œæ­Œè©çš„ç¿»è­¯ã€‚

## background_voice

è©²è¡Œçš„èƒŒæ™¯å’Œè²ã€‚

é™£åˆ—ä¸­çš„æ¯é …ç‰©ä»¶çš†æ˜¯ä¸€è¡ŒèƒŒæ™¯å’Œè²ï¼Œæ ¼å¼æ¯”ç…§ä¸»æ—‹å¾‹ã€‚

## is_secondary

è¡¨ç¤ºè©²è¡Œç‚ºç¬¬äºŒæ­Œæ‰‹çš„æ­Œè©ã€‚

-   éœ€è¦åœ¨ `/public/song_list.json` ä¸­å°‡è©²æ­Œæ›²çš„ `is_duet` è¨­ç½®ç‚º `true` æ–¹å¯æ­£å¸¸ä½¿ç”¨ã€‚

-   è‹¥ç‚º `true`ï¼Œè©²è¡Œæ–‡å­—å°‡æœƒé å³é¡¯ç¤ºã€‚
